cmake_minimum_required(VERSION 3.8 FATAL_ERROR)
project(cmssw C CXX Fortran)
#set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${CMAKE_SOURCE_DIR}/../cmssw-cmake/tools)
#set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${CMAKE_SOURCE_DIR}/../cmssw-cmake/coral)
#set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${CMAKE_SOURCE_DIR}/../cmssw-cmake/cmssw)
set(CMAKE_SKIP_RPATH ON)
set(CMAKE_BUILD_TYPE RELEASE)
set(CMAKE_CXX_FLAGS_RELEASE_INIT "")
set(CMAKE_CXX_FLAGS_INIT "")
set(CMAKE_CXX_FLAGS_RELEASE "")
set(CMAKE_CXX_FLAGS "")
include (${CMAKE_SOURCE_DIR}/../cmssw-cmake/cmake/all.cmake)
if(NOT CMAKE_COMPILER)
  set(CMAKE_COMPILER gcc)
endif()
if(${CMAKE_COMPILER} STREQUAL gcc)
  cms_find_package(gcc_cxxcompiler)
  cms_find_package(gcc_ccompiler)
endif()
set(PROJECT_CPPDEFINES ${CMAKE_CPPDEFINES} -DBOOST_DISABLE_ASSERTS)
set(PROJECT_CPPDEFINES ${CMAKE_CPPDEFINES} -DCMSSW_GIT_HASH="CMSSW_10_1_0" -DPROJECT_NAME="CMSSW" -DPROJECT_VERSION="CMSSW_10_1_0")
set(LIBRARY_DIRS ${CMAKE_INSTALL_PREFIX}/external/${SCRAM_ARCH}/lib ${GCC_CXXCOMPILER_ROOT}/lib ${GCC_CXXCOMPILER_ROOT}/lib64)
set(INCLUDE_DIRS ${INCLUDE_DIRS} ${CMAKE_SOURCE_DIR})
set(CMAKE_EXE_LINKER_FLAGS -pthread)
include(CTest)
file(GLOB subdirs "*/*/*")
foreach(dir ${subdirs})
  if(IS_DIRECTORY ${dir} AND EXISTS ${dir}/CMakeLists.txt)
    add_subdirectory(${dir})
  endif()
endforeach()
